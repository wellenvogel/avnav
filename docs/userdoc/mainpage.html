<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>AvNav Hauptseite</title>
    <link href="../styles.css" rel="stylesheet" type="text/css">
  </head>
  <body data-order="1100">
    <h1 class="western">AvNav Hauptseite</h1>
    <h2>Überblick</h2>
    <div class="toc" data-maxlevel="3"></div>
    <img src="mainpage-demochart.png" alt="" class="fimage">
    <div> <br>
      <div>
        <h2> <b>Buttons</b> </h2>
        <table border="1">
          <tbody>
            <tr>
              <td>Icon</td>
              <td>Name</td>
              <td>Beschreibung</td>
            </tr>
            <tr>
              <td><img class="inlineimage" src="../viewerimages/icons-new/status.svg"
                  alt=""><br>
              </td>
              <td>ShowStatus<br>
              </td>
              <td style="height: 36px;"><a href="statuspage.html">Status-Seite</a>
                für den Server<br>
              </td>
            </tr>
            <tr>
              <td><img class="inlineimage" src="../viewerimages/icons-new/ic_settings.svg"
                  alt=""><br>
              </td>
              <td>ShowSettings<br>
              </td>
              <td><a href="settingspage.html">Einstellungen</a><br>
              </td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/ic_file_download.svg" alt=""
                  class="inlineimage"><br>
              </td>
              <td>ShowDownload<br>
              </td>
              <td><a href="downloadpage.html">Files/Downloads</a><br>
                zum Herunterladen und Hochladen von Tracks, Routen, Karten,
                Layouts, User Files und Images<br>
              </td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/plug.svg" alt="" class="inlineimage"><br>
              </td>
              <td>Connected</td>
              <td>Wenn aktiv wird die Navigation (Wegepunkte, Routen) auch auf
                dem Server aktiviert, sonst nur lokal</td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/data.svg" class="inlineimage"><br>
              </td>
              <td>ShowGps<br>
              </td>
              <td><a href="dashboardpage.html">Anzeige des Dashboards</a><br>
              </td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/night.svg" alt="" class="inlineimage"><br>
              </td>
              <td>Night<br>
              </td>
              <td>Nachtmodus aktivieren<br>
              </td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/drowning.svg" alt="" class="inlineimage"><br>
              </td>
              <td>MOB</td>
              <td><a href="#mob">Mann über Bord</a> (nur sichtbar wenn
                connected)</td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/layers-black.svg" alt="" class="inlineimage"><br>
              </td>
              <td>NavOverlays</td>
              <td>Bearbeitung der <a href="../hints/overlays.html">Default
                  Overlays</a></td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/fullscreen.svg" alt="" class="inlineimage"><br>
              </td>
              <td>FullScreen</td>
              <td>Fullscreen ein/aus (nur auf unterstützten Browsern)<a href="../hints/overlays.html"></a></td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/apps.svg" alt="" class="inlineimage"><br>
              </td>
              <td>MainAddOns</td>
              <td><a href="addonpage.html">Anzeige von konfigurierten User Apps</a>
                (z.B. signalK)</td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/settings_remote.svg" alt=""
                  class="inlineimage"><br>
              </td>
              <td>RemoteChannel</td>
              <td>Erlaubt den <a href="../hints/RemoteControl.html">Fernsteuerungskanal</a>
                und -Modus zu wechseln</td>
            </tr>
            <tr>
              <td><img src="../viewerimages/icons-new/vertical_split.svg" alt=""
                  class="inlineimage"><br>
              </td>
              <td>Split</td>
              <td>Schaltet den <a href="#SplitMode">Split Mode</a> ein oder aus</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <p>Im Hauptbereich der Seite befindet sich die Liste der auf dem Server
      gefundenen Kartensätze (beim Raspi-Server files unter
      /home/pi/avnav/data/charts, in der Android App unter charts im gewählten
      Verzeichnis). </p>
    <p>Nach der ersten Installation sind hier einige Online Demo Karten
      sichtbar. Diese können nur mit Internet-Verbindung genutzt werden.</p>
    <p>Weitere Karten kann man über die <a href="downloadpage.html">Files/Download
        Seite</a> hochladen bzw. direkt in das entsprechende Verzeichnis
      kopieren (raspberry) bzw. aus einem externen Verzeichnis lesen (Android).</p>
    <p>AvNav kann Karten im <a href="http://www.cgtk.co.uk/gemf">gemf</a>
      Format lesen (bevorzugt), ab Version 202003xx auch im <a href="https://wiki.openstreetmap.org/wiki/MBTiles">mbtiles</a>
      Format. Ausserdem kann auch eine Online-Karten-Quelle über ein XML File
      eingebunden werden. Details dazu unter <a href="../charts.html#chartformats">Kartenformate</a>.</p>
    <p>O-Charts Karten müssen über das <a href="../hints/ocharts.html">o-charts
        Plugin</a> (zu erreichen über den <img src="../viewerimages/icons-new/apps.svg"
        alt="" class="inlineimage">Button) hochgeladen werden.</p>
    <p>Wenn in <a href="../hints/CanboatAndSignalk.html">SignalK</a> Karten
      installiert sind, werden diese hier ebenfalls angezeigt.</p>
    <p>Über den <img src="../viewerimages/icons-new/layers-black.svg" alt="" class="inlineimage">Button
      neben jeder Karte kann man die <a href="../hints/overlays.html">Overlays</a>
      für diese Karte bearbeiten.</p>
    <p>Durch Anklicken eines Eintrages in der Kartenliste gelang man zur <a href="navpage.html">Navigationsseite</a>
      mit dem enstprechenden Kartensatz.</p>
    <h2>Spezielle Funktionen</h2>
    <h3><a name="mob" id="mob"></a>Mann über Bord</h3>
    <p>Sichtbar auf allen Seiten, aber nur wenn der "connected" Mode aktiv ist -
      Button <img src="../viewerimages/icons-new/plug.svg" alt="" class="inlineimage">ist
      grün.<br>
      Durch Klick wird die aktuelle Position zu einem Wegepunkt mit dem Namen
      "MOB", ein aktuelles Routing wird abgebrochen, ein Routing zum Wegepunkt
      wird aktiviert, und es wird auf die Navigationsseite mit der zuletzt
      gewählten Karte gewechselt. Die Karte wird auf das Boot zentriert, und es
      wird eine feste Vergrößerung eingestellt (in den Settings anpassbar).
      Ausserdem wird ein "MOB" Alarm ausgelöst. Dieser Alarm kann quittiert
      werden. Das Routing bleibt aktiv bis der MOB Button erneut gedrückt wird.</p>
    <p><img src="mob-navpage.png" alt="" class="fimage"></p>
    <p>Falls noch nie eine Karte gewählt wurde, wird das <a href="dashboardpage.html">Dashboard</a>
      angezeigt.</p>
    <h3>Nachtmodus</h3>
    <p>Durch Klick auf den <img src="../viewerimages/icons-new/night.svg" alt=""
        class="inlineimage">Button wird der Nachtmodus aktiviert. In den
      Einstellungen können die Dimm-Faktoren noch angepasst werden.</p>
    <p><img src="gpspage-night.png" alt="" class="fimage"></p>
    <h3><a name="disconnected" id="disconnected"></a>Verbunden/Nicht Verbunden
      (Connected)</h3>
    <p>Über den <img src="../viewerimages/icons-new/plug.svg" alt="" class="inlineimage">Button
      wird gesteuert, wie die Routing Daten mit dem Server ausgetauscht werden.
      Wenn er aktiv ist (grüner Rand), werden alle Änderungen an den
      Routing-Daten (Wegepunkt, Starten, Stoppen, Routen-Änderungen) direkt mit
      dem Server synchronisiert und sind damit auf allen angeschlossenen Display
      sichtbar.</p>
    <p>Wenn er ausgeschaltet wird, werden alle Routen-Änderungen nur lokal
      ausgeführt. Damit kann man z.B. eine alternative Route testen, ohne den
      Rudergänger oder den Autopiloten zu stören. Wenn man sich danach wieder
      verbindet, gewinnen im Zweifel die Daten vom Server, man muss also seine
      lokalen Änderungen z.B. in einer neuen Route speichern. Wenn eine solche
      Route dann akitiviert wird, wird sie auch zum Server hochgeladen. Auf der
      <a href="downloadpage.html">Files/Download</a> Seite wird bei den Routen
      durch das <img src="../viewerimages/icons-new/plug.svg" alt="" class="inlineimage">Symbol
      angezeigt, ob sie mit dem Server synchronisiert sind.</p>
    <p>Der Verbunden/Nicht Verbunden Zustand bezieht sich nur auf Routen und
      Wegepunkte! Alle anderen Funktionen sind immer mit dem Server verbunden
      (ausser MOB - das ist eine Routing Funktion - und daher nicht aktivierbar
      wenn man nicht verbunden ist).</p>
    <p><img src="mainpage-disconnected.png" alt="" class="fimage"><br>
    </p>
    <p>Ab 20240520 wird in der Titelzeile ein kleines rotes Icon angezeigt, wenn
      man nicht verbunden ist. Ein Klick auf das Icon zeigt einen Dialog zum
      Beenden des disconnected Modes.</p>
    <p><img src="mainpage-disconnected-end.png" alt=""></p>
    <h3><a name="anchorwatch" id="anchorwatch"></a>Anker Wache</h3>
    <p>Auf den <a href="dashboardpage.html#anchorwatch">Dashboard</a> Seiten
      kann man eine Ankerwache aktivieren.</p>
    <p><br>
    </p>
    <h3><a name="SplitMode" id="SplitMode"></a>Split Mode</h3>
    <p>Ab Version 20220819 kann AvNav sein Hauptfenster teilen. Dabei laufen
      praktisch 2 Instanzen der AvNav App nebeneinander.</p>
    <p><img src="splitmode1.png" alt="" class="fimage"> </p>
    <p>Die beiden Instanzen sind weitgehend unabhängig voneinander und können
      jeweils getrennt bedient werden.<br>
      Sie teilen sich zu einem großen Teil die Einstellungen von AvNav.<br>
      Nur einige wenige Einstellungen sind jeweils spezifisch für die Seite
      (rechts/links). Diese werden beim Aufruf der <a href="settingspage.html">Einstellungsseite</a>
      mit einem * gekennzeichnet.<br>
      Wenn man Einstellungen ändert (ausser die mit dem *) werden die Änderungen
      auch sofort auf der anderen Seite wirksam.</p>
    <p>Die folgenden Einstellungen sind jeweils spezifisch pro Seite:</p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Name</td>
          <td>Bedeutung</td>
        </tr>
        <tr>
          <td>connectedMode</td>
          <td>Der "Stecker Button" - wenn der ausgeschaltet ist, kann die
            Instanz keine Änderungen auf dem Server vornehmen. Man kann hier
            z.B. eine eigene Route testen.</td>
        </tr>
        <tr>
          <td>layoutName</td>
          <td>Das zu verwendende Layout</td>
        </tr>
        <tr>
          <td>remoteChannelName</td>
          <td>Der Name für den Fernsteuerungskanal</td>
        </tr>
        <tr>
          <td>remoteChannelRead</td>
          <td>Fenrsteuerung lesen</td>
        </tr>
        <tr>
          <td>remoteChannelWrite</td>
          <td>Fernsteuerung schreiben</td>
        </tr>
      </tbody>
    </table>
    <p>Falls man andere/weitere Einstellungen spezifisch je Seite vornehmen
      möchte, kann man eine Datei splitkeys.json im User-Verzeichnis anlegen.
      Die default Datei findet man auf <a href="https://github.com/wellenvogel/avnav/blob/master/viewer/static/splitkeys.json">GitHub</a>.
      Die Namen für die keys muss man dem <a href="https://github.com/wellenvogel/avnav/blob/16b121112b05308d0f7b3c3e8ae6924375524289/viewer/util/keys.jsx#L265">Source
        Code im Abschnitt properties</a> entnehmen. Alle in dieser Datei
      aufgelisteten Eigenschaften sind dann spezifisch pro Seite.<br>
      Die pro Seite spezifisch eingestellten Eigenschaften werden beim Beenden
      des Split Modes nicht für die dann laufende Instanz übernommen (sind aber
      für den nächsten Split Mode Aufruf erhalten).</p>
    <p>Alarme werden im Split Mode nur in der rechten Instanz angezeigt.</p>
    <p>Über den <img src="../viewerimages/icons-new/vertical_split.svg" alt=""
        class="inlineimage"> Split Button in jeder Instanz kann der Split mode
      wieder verlassen werden.</p>
    <p>Mit dem Slider kann die Aufteilung zwischen beiden Instanzen verändert
      werden.</p>
    <p><br>
    </p>
  </body>
</html>
