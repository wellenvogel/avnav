<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>user icons</title>
    <link href="../styles.css" rel="stylesheet" type="text/css">
  </head>
  <body data-order="6000">
    <h1>User Symbols</h1>
    <p>Since version 20201030.</p>
    <p>A couple of the symbols used in AvNav can be adapted to your preferences.
      You can resize the existing symbols, set a couple of properties or replace
      them by own symbols.</p>
    <p>If you are going to use your own symbols you need to upload them as .png
      files into the images directory - see <a href="../userdoc/downloadpage.html#userfiles">description
        for user files.</a></p>
    <p>The symbols you are going to change need to be described in a json file
      (images.json) in the user directory.</p>
    <p>An example of this file may look like:</p>
    <div class="code">{
  "boatImage": {
    "anchor": [20,0],
    "size":[40,71]
  },
  "markerImage":{
    "src": "/user/images/Marker.png",
    "anchor": [15,15],
    "size":[30,30]
  },
  "aisNormalImage-Sail":{
    "src": "/user/images/Sail-Boat-40.png",
    "anchor": [15,15],
    "size":[30,30],
    "courseVectorColor": "#ff00ff",
    "rotate":false
  },
  "aisNormalImage-Military":{
    "anchor": [32,0],
    "size":[64,120]
  }
}</div>
    <p>For each symbol you want to replace there must be an entry with the
      correct name.</p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>boatImage</td>
          <td>boat symbol on navigation page</td>
        </tr>
        <tr>
          <td>boatImageHdg<br>
            (20220418)</td>
          <td>boat symbol if hdt or hdm are used</td>
        </tr>
        <tr>
          <td>boatImageSteady<br>
            (20220418)</td>
          <td>boat symbol if zero SOG detect is active and not boat movement</td>
        </tr>
        <tr>
          <td>markerImage</td>
          <td>symbol for active waypoint</td>
        </tr>
        <tr>
          <td>aisNormalImage</td>
          <td>symbol for a normal AIS target (neither the nearest or warning)</td>
        </tr>
        <tr>
          <td>aisNearestImage</td>
          <td>symbol for nearest AIS target</td>
        </tr>
        <tr>
          <td>aisWarningImage</td>
          <td>symbol for AIS target with warning</td>
        </tr>
      </tbody>
    </table>
    <p>For the AisImages you can append a "-shiptype" to define different images
      for different ship types. If you do not define a type specific image the
      appropriate base image (without -shiptype) or the built in image will be
      used.</p>
    <p>Shiptype can have the following values:</p>
    <div class="code">WIG<br>Fishing<br>Towing<br>Dredging<br>Diving<br>Military<br>Sail<br>Pleasure<br>HighSp<br>Pilot<br>SAR<br>Tug<br>PortT<br>AntiPol<br>Law<br>Medical<br>Passenger<br>Cargo<br>Tanker<br>Hazard</div>
    <p>You need to define all 3 variants (Normal, Nearest, Warning) for each of
      the AIS symbols - otherwise the symbol will change depending on the state.</p>
    <p>For each of the symbols in the file you can specify the following
      parameters:</p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>src</td>
          <td>The source url for the image. Normally /user/images/XYZ.png for a
            file that has been uploaded to the images folder.<br>
            If you do not specify this parameter the system will use the built
            in symbol. You still can e.g. alter the size.<br>
            Your image files should have a reasonable size (e.g. 2x the
            specified size) - but not too large as otherwise the performance
            could suffer. If you have vector graphics (like svg) you can use a
            program like <a href="https://inkscape.org">inkscape</a> to create
            png's from them.</td>
          <td><br>
          </td>
        </tr>
        <tr>
          <td>size</td>
          <td>[width,height] - must be specified as an array - see the example.
            This defines the size the image will be scaled to.<br>
            If you did not specify the src parameter, size applies to the built
            in image.</td>
          <td><br>
          </td>
        </tr>
        <tr>
          <td>anchor</td>
          <td>[x,y] - the point (related to the image's width, height
            coordinates) to be anchored at the item's position on the map.</td>
          <td><br>
          </td>
        </tr>
        <tr>
          <td>rotate</td>
          <td>true or false - if you set this to false the symbol will not be
            rotated according to its course.</td>
          <td>not for markerImage</td>
        </tr>
        <tr>
          <td>courseVector</td>
          <td>true or false - if you set this to false, no course vector for
            this symbol is displayed.</td>
          <td>not for markerImage</td>
        </tr>
        <tr>
          <td>courseVectorColor</td>
          <td>the color for the course vector. This allows you to adjust the
            course vector color to the image colors.</td>
          <td>not for markerImage</td>
        </tr>
      </tbody>
    </table>
    <p>When you edit the images.json you have to be careful to create valid
      json. When using the AvNav edit function at the Files/Download page <img
        src="../viewerimages/icons-new/ic_file_download.svg" alt="" class="inlineimage">(sub
      page <img src="../viewerimages/icons-new/folder_shared.svg" alt="" class="inlineimage">)
      syntax will be automatically checked when saving the file.</p>
    <p><img src="edit-images.png" alt="" class="image"></p>
    <p>After you saved the file, you need to reload AvNav.</p>
    <p><br>
    </p>
    <br>
  </body>
</html>
